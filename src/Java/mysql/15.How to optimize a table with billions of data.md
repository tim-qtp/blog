---
order: 15
author: 
title: "有一张亿级的表怎么去进行优化"
category:
  - MySQL 
  - 数据库
---

### 1. 索引优化

✅ **经常查询的字段加索引**

✅ **WHERE 条件中涉及的字段加索引**

✅ **ORDER BY、GROUP BY 涉及的字段加索引**

✅ **创建复合索引**

```sql
-- 在 `user_id` 和 `create_time` 上创建复合索引
CREATE INDEX idx_user_create_time ON orders(user_id, create_time);
```

### 2.分库分表（数据水平拆分）

### 🔹 **为什么分库分表？**

- 单表数据量太大，B+树结构深度增加，查询和更新会变慢。
- 将数据拆分到不同的表或库，降低单表负载。

### 🔹 **分库分表策略：**

 ✅ **按范围拆分**

- 例如按照日期拆分：2023 年的数据存放在 `order_2023` 表中

 ✅ **按哈希取模拆分**

- 例如对 `user_id % 16`或者 `user_name % 16`，将数据分配到 16 个库或表中

 ✅ **按地理或业务拆分**

- 例如电商系统可按地区（华东、华北、华南）拆分