---
order: 8
author: 
title: "AIæ‰©å›¾+è£å‰ªç¼–è¾‘"
category:
  - äº‘å›¾åº“
  - é¡¹ç›®



---

### 1ã€å›¾ç‰‡è£å‰ªï¼š

å›¾ç‰‡è£å‰ªå’Œæ—‹è½¬ç­‰æ“ä½œï¼Œå¯ä»¥ç”¨å¼€æºçš„ [vue-cropper ç»„ä»¶](https://github.com/xyxiao001/vue-cropper?tab=readme-ov-file#2-å¼•å…¥-vue-cropper)ã€‚

æ•ˆæœå¤§æ¦‚æ˜¯è¿™æ ·

![](https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/202503211743733.png)

ä¸è¿‡æµ‹è¯•çš„æ—¶å€™å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å›¾ç‰‡ä¸æ˜¾ç¤ºï¼Œè¿™æ˜¯å› ä¸ºå‡ºç°äº†è·¨åŸŸé—®é¢˜

![](https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/202503211736490.png)

è¿™æ˜¯å› ä¸ºå‰ç«¯åŸŸåå’ŒæœåŠ¡å™¨ï¼ˆå¯¹è±¡å­˜å‚¨ï¼‰çš„åŸŸåä¸ä¸€æ ·å¯¼è‡´çš„ã€‚

è§£å†³è·¨åŸŸé—®é¢˜çš„æ–¹å¼æœ‰å¾ˆå¤šï¼Œå› ä¸ºå›¾ç‰‡åœ°å€å…¨éƒ¨éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡å­˜å‚¨ URLï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç™»å½•äº‘å¹³å°æ¥ä¿®æ”¹å¯¹è±¡å­˜å‚¨çš„è·¨åŸŸè®¿é—® CORS è®¾ç½®ï¼Œç›´æ¥ç»™ç‰¹å®šçš„æºç«™ï¼ˆåŸŸå + ç«¯å£ï¼‰å¼€æ”¾è·¨åŸŸã€‚å¦‚å›¾ï¼š

![](https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/202503211742941.png)

è¿™æ ·å°±å¯ä»¥å‡ºç°äº†ï¼

### 2ã€AIæ‰©å›¾

éšç€ AI çš„é«˜é€Ÿå‘å±•ï¼ŒAI å‡ ä¹å¯ä»¥åº”ç”¨åˆ°ä»»ä½•ä¼ ç»Ÿä¸šåŠ¡ä¸­ï¼Œå¢å¼ºåº”ç”¨çš„åŠŸèƒ½ï¼Œå¸¦ç»™ç”¨æˆ·æ›´å¥½çš„ä½“éªŒã€‚

å¯¹äºå›¾åº“ç½‘ç«™æ¥è¯´ï¼ŒAI ä¹Ÿæœ‰éå¸¸å¤šçš„åº”ç”¨ç©ºé—´ï¼Œæ¯”å¦‚å¯ä»¥åˆ©ç”¨ AI ç»˜å›¾å¤§æ¨¡å‹æ¥ç¼–è¾‘å›¾ç‰‡ï¼Œå®ç°æ‰©å›¾ã€æ“¦é™¤è¡¥å…¨ã€å›¾é…æ–‡ã€å»æ°´å°ç­‰åŠŸèƒ½ã€‚

å“ˆå“ˆå“ˆï¼Œè¯´äº†ç‚¹éªšè¯ã€‚

![](https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/202503211750358.png)

å›½å¤–æ¯”è¾ƒçŸ¥åçš„å°±æ˜¯ Midjourneyï¼Œæˆ‘ä»¥å‰ç”¨çš„å°±è¿‡è¿™ä¸ªï¼Œä¸è¿‡ä¸ä»…å¼€å‘å¯¹æ¥éº»çƒ¦ï¼Œä»·æ ¼ä¹Ÿæ¯”è¾ƒè´µã€‚å›½å†…çš„ AI ç»˜å›¾å¤§æ¨¡å‹æ¯”è¾ƒæ¨è [é˜¿é‡Œäº‘ç™¾ç‚¼](https://click.aliyun.com/m/1000400273/) ï¼Œå®ƒæ˜¯ä¸€ç«™å¼çš„å¤§æ¨¡å‹å¼€å‘åŠåº”ç”¨æ„å»ºå¹³å°ï¼Œå¯ä»¥é€šè¿‡ç®€å•çš„ç•Œé¢æ“ä½œï¼Œåœ¨ 5 åˆ†é’Ÿå†…å¼€å‘å‡ºä¸€æ¬¾å¤§æ¨¡å‹åº”ç”¨ï¼Œå¹¶åœ¨çº¿ä½“éªŒæ•ˆæœã€‚

![](https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/202503211810099.png)

é€šè¿‡é˜…è¯» [å®˜æ–¹æ–‡æ¡£](https://click.aliyun.com/m/1000400274/)ï¼Œå‘ç°å®ƒæ˜¯æ”¯æŒ AI å›¾åƒç¼–è¾‘ä¸ç”ŸæˆåŠŸèƒ½çš„ï¼ŒåŒ…æ‹¬ AI æ‰©å›¾ï¼Œæ”¯æŒ HTTP è°ƒç”¨ï¼Œç¬¦åˆéœ€æ±‚ã€‚

åœ¨ [æ§åˆ¶å°](https://click.aliyun.com/m/1000400275/) ä¹Ÿèƒ½çœ‹åˆ°å¯¹åº”çš„å›¾åƒç”»é¢æ‰©å±•æ¨¡å‹ï¼š

ç™¾ç‚¼çš„å¤§æ¨¡å‹æä¾›äº† [æ–°äººå…è´¹é¢åº¦](https://click.aliyun.com/m/1000400407/)ï¼Œå¯ä»¥é€šè¿‡æ–‡æ¡£æˆ–è€…ç‚¹è¿›å¤§æ¨¡å‹äº†è§£ï¼Œå¯¹äºå­¦ä¹ ç”¨æ¥è¯´è¶³å¤Ÿäº†ï¼š

#### 1ã€è°ƒç”¨æ–¹å¼

é€šè¿‡é˜…è¯» [AI å›¾åƒæ‰©å±•çš„å®˜æ–¹æ–‡æ¡£](https://click.aliyun.com/m/1000400274/)ï¼Œå¯ä»¥å‘ç°ï¼ŒAPI åªæ”¯æŒå¼‚æ­¥æ–¹å¼è°ƒç”¨ã€‚

![](https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/202503212236940.png)

è¿™æ˜¯å› ä¸º AI ç»˜ç”»ä»»åŠ¡è®¡ç®—é‡å¤§ä¸”è€—æ—¶é•¿ï¼ŒåŒæ­¥è°ƒç”¨ä¼šå¯¼è‡´æœåŠ¡å™¨çº¿ç¨‹é•¿æ—¶é—´è¢«å•ä¸ªä»»åŠ¡å ç”¨ï¼Œé™åˆ¶äº†å¹¶å‘å¤„ç†èƒ½åŠ›ï¼Œå¢åŠ äº†è¶…æ—¶å’Œç³»ç»Ÿå´©æºƒçš„é£é™©ã€‚é€šè¿‡å¼‚æ­¥è°ƒç”¨ï¼ŒæœåŠ¡å™¨å¯ä»¥å°†ä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œåˆç†è°ƒåº¦èµ„æºï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ï¼Œä»è€Œæ›´é«˜æ•ˆåœ°æœåŠ¡å¤šä¸ªç”¨æˆ·è¯·æ±‚ï¼Œæå‡æ•´ä½“ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯æ‰©å±•æ€§ã€‚

åŒæ­¥è°ƒç”¨æµç¨‹å¦‚ä¸‹ï¼Œå¥½å¤„æ˜¯å®¢æˆ·ç«¯å¯ä»¥ç›´æ¥è·å–åˆ°ç»“æœï¼Œè°ƒç”¨æ›´æ–¹ä¾¿ï¼š

![image-20250321225403083](https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/202503212254136.png)

ç”±äº AI æ¥å£å·²ç»é€‰æ‹©äº†å¼‚æ­¥è°ƒç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½œä¸ºè¦è°ƒç”¨ AI æ¥å£çš„å®¢æˆ·ç«¯ï¼Œè¦ä½¿ç”¨è½®è¯¢çš„æ–¹å¼æ¥æ£€æŸ¥ä»»åŠ¡çŠ¶æ€æ˜¯å¦ä¸º â€œå·²å®Œæˆâ€ï¼Œå¦‚æœå®Œæˆäº†ï¼Œæ‰å¯ä»¥è·å–åˆ°ç”Ÿæˆçš„å›¾ç‰‡ã€‚

#### 2ã€é‚£ä¹ˆæ˜¯å‰ç«¯è½®è¯¢è¿˜æ˜¯åç«¯è½®è¯¢å‘¢ï¼Ÿ

![image-20250321230355755](https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/202503212303817.png)

1ï¼‰å‰ç«¯è½®è¯¢ï¼ˆå‰è°ƒåï¼Œåè°ƒAIï¼‰

å‰ç«¯è°ƒç”¨åç«¯æäº¤ä»»åŠ¡åå¾—åˆ°ä»»åŠ¡ IDï¼Œç„¶åé€šè¿‡å®šæ—¶å™¨è½®è¯¢è¯·æ±‚æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€æ¥å£ï¼Œç›´åˆ°ä»»åŠ¡å®Œæˆæˆ–å¤±è´¥ã€‚ç¤ºä¾‹ä»£ç ï¼š

```typescript
// æäº¤ä»»åŠ¡
async function submitTask() {
  const response = await fetch('/api/createTask', { method: 'POST' });
  const { taskId } = await response.json();
  checkTaskStatus(taskId);
}

// è°ƒç”¨
submitTask();

// æ£€æŸ¥ä»»åŠ¡çŠ¶æ€
async function checkTaskStatus(taskId) {
  const intervalId = setInterval(async () => {
    const response = await fetch(`/api/taskStatus?taskId=${taskId}`);
    const { status, result } = await response.json();

    if (status === 'success') {
      console.log('Task completed:', result);
      clearInterval(intervalId); // åœæ­¢è½®è¯¢
    } else if (status === 'failed') {
      console.error('Task failed');
      clearInterval(intervalId); // åœæ­¢è½®è¯¢
    }
  }, 2000); // æ¯éš” 2 ç§’è½®è¯¢
}
```

2ï¼‰åç«¯è½®è¯¢

åç«¯é€šè¿‡å¾ªç¯æˆ–å®šæ—¶ä»»åŠ¡æ£€æµ‹ä»»åŠ¡çŠ¶æ€ï¼Œ==æ¥å£ä¿æŒé˜»å¡==ï¼Œç›´åˆ°ä»»åŠ¡å®Œæˆæˆ–å¤±è´¥ï¼Œç›´æ¥è¿”å›ç»“æœç»™å‰ç«¯ã€‚ç¤ºä¾‹ä»£ç ï¼š

```java
@RestController
public class TaskController {

    @PostMapping("/createTask")
    public String createTask() {
        String taskId = taskService.submitTask();
        return taskId;
    }

    @GetMapping("/waitForTask")
    public ResponseEntity<String> waitForTask(@RequestParam String taskId) {
        while (true) {
            String status = taskService.checkTaskStatus(taskId);

            if ("success".equals(status)) {
                return ResponseEntity.ok("Task completed");
            } else if ("failed".equals(status)) {
                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body("Task failed");
            }

            try {
                Thread.sleep(2000); // ç­‰å¾… 2 ç§’åé‡è¯•
            } catch (InterruptedException e) {
                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body("Error occurred");
            }
        }
    }
}
```

æ˜¾ç„¶ï¼Œåç«¯è½®è¯¢å®¹æ˜“å› ä¸ºä»»åŠ¡é˜»å¡å¯¼è‡´èµ„æºè€—å°½ï¼Œæ‰€ä»¥é€šå¸¸æ¨è **å‰ç«¯è½®è¯¢**ã€‚

### 3ã€åç«¯å¼€å‘

#### 1ã€AI æ‰©å›¾ API

é¦–å…ˆå¼€å‘ä¸šåŠ¡ä¾èµ–çš„åŸºç¡€èƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯ AI æ‰©å›¾ APIã€‚

1ï¼‰éœ€è¦å…ˆè¿›å…¥ [é˜¿é‡Œäº‘ç™¾ç‚¼æ§åˆ¶å°](https://click.aliyun.com/m/1000400275/) å¼€é€šæœåŠ¡ï¼š

2ï¼‰å¼€é€šä¹‹åï¼Œæˆ‘ä»¬è¦åœ¨æ§åˆ¶å°è·å– API Keyï¼Œå¯[å‚è€ƒæ–‡æ¡£](https://click.aliyun.com/m/1000400408/)

èƒ½å¤Ÿåœ¨æ§åˆ¶å°æŸ¥çœ‹åˆ° API Keyï¼Œæ³¨æ„ï¼ŒAPI Key ä¸€å®šä¸è¦å¯¹å¤–æ³„éœ²ï¼

é€šè¿‡é˜…è¯»æ–‡æ¡£å‘ç°ï¼Œç™¾ç‚¼æ”¯æŒé€šè¿‡ SDK æˆ– HTTP è°ƒç”¨ã€‚è™½ç„¶å®˜æ–¹å†™çš„æ”¯æŒ Java SDKï¼Œä½† AI æ‰©å›¾åŠŸèƒ½ä¸­å¯¹ SDK çš„ä»‹ç»éå¸¸å°‘ï¼Œæ­¤å¤„è€ƒè™‘åˆ°å…¼å®¹æ€§ï¼Œæˆ‘ä»¬è¿˜æ˜¯ **ä½¿ç”¨ HTTP è°ƒç”¨**ã€‚

ç”±äºä½¿ç”¨å¼‚æ­¥çš„æ–¹å¼ï¼Œéœ€è¦å¼€å‘åˆ›å»ºä»»åŠ¡å’ŒæŸ¥è¯¢ç»“æœ 2 ä¸ª API

3ï¼‰åœ¨é…ç½®æ–‡ä»¶ä¸­å¡«å†™è·å–åˆ°çš„ apiKeyï¼š

```yaml
# é˜¿é‡Œäº‘ AI é…ç½®
aliYunAi:
  apiKey: xxxx
```

4ï¼‰æ–°å»ºæ•°æ®æ¨¡å‹ç±»

åœ¨ `api` åŒ…ä¸‹æ–°å»º `aliyunai` åŒ…ï¼Œå­˜æ”¾é˜¿é‡Œäº‘ AI ç›¸å…³ä»£ç ã€‚

åœ¨ `aliyunai.model` åŒ…ä¸‹æ–°å»ºæ•°æ®æ¨¡å‹ç±»ï¼Œå¯ä»¥è®© AI æ ¹æ®å®˜æ–¹æ–‡æ¡£ä¸­çš„è¯·æ±‚å“åº”ä¿¡æ¯è‡ªåŠ¨ç”Ÿæˆï¼Œæ— éœ€è‡ªå·±æ‰‹åŠ¨ç¼–å†™ã€‚[å›¾åƒç”»é¢æ‰©å±•APIå‚è€ƒ](https://help.aliyun.com/zh/model-studio/developer-reference/image-scaling-api?utm_content=m_1000400274)

```bash
curl --location --request POST 'https://dashscope.aliyuncs.com/api/v1/services/aigc/image2image/out-painting' \
--header "Authorization: Bearer $DASHSCOPE_API_KEY" \
--header 'X-DashScope-Async: enable' \
--header 'Content-Type: application/json' \
--data '{
    "model": "image-out-painting",
    "input": {
        "image_url": "http://xxx/image.jpg"
    },
    "parameters":{
        "angle": 45,
        "x_scale":1.5,
        "y_scale":1.5
    }
}'
```

ç”±äºæ¯ä¸ª AI å›¾ç‰‡å¤„ç†æ“çš„è¯·æ±‚å“åº”éƒ½æœ‰ä¸€äº›åŒºåˆ«ï¼Œæ‰€ä»¥å•ç‹¬ç»™ AI æ‰©å›¾åŠŸèƒ½ç¼–å†™å…·ä½“çš„è¯·æ±‚å“åº”ç±»ã€‚

åˆ›å»ºæ‰©å›¾ä»»åŠ¡è¯·æ±‚ç±»ï¼š

```java
@Data
public class CreateOutPaintingTaskRequest implements Serializable {

    /**
     * æ¨¡å‹ï¼Œä¾‹å¦‚ "image-out-painting"
     */
    private String model = "image-out-painting";

    /**
     * è¾“å…¥å›¾åƒä¿¡æ¯
     */
    private Input input;

    /**
     * å›¾åƒå¤„ç†å‚æ•°
     */
    private Parameters parameters;

    @Data
    public static class Input {
        /**
         * å¿…é€‰ï¼Œå›¾åƒ URL
         */
        @Alias("image_url")
        private String imageUrl;
    }

    @Data
    public static class Parameters implements Serializable {
        /**
         * å¯é€‰ï¼Œé€†æ—¶é’ˆæ—‹è½¬è§’åº¦ï¼Œé»˜è®¤å€¼ 0ï¼Œå–å€¼èŒƒå›´ [0, 359]
         */
        private Integer angle;

        /**
         * å¯é€‰ï¼Œè¾“å‡ºå›¾åƒçš„å®½é«˜æ¯”ï¼Œé»˜è®¤ç©ºå­—ç¬¦ä¸²ï¼Œä¸è®¾ç½®å®½é«˜æ¯”
         * å¯é€‰å€¼ï¼š["", "1:1", "3:4", "4:3", "9:16", "16:9"]
         */
        @Alias("output_ratio")
        private String outputRatio;

        /**
         * å¯é€‰ï¼Œå›¾åƒå±…ä¸­ï¼Œåœ¨æ°´å¹³æ–¹å‘ä¸ŠæŒ‰æ¯”ä¾‹æ‰©å±•ï¼Œé»˜è®¤å€¼ 1.0ï¼ŒèŒƒå›´ [1.0, 3.0]
         */
        @Alias("x_scale")
        @JsonProperty("xScale")
        private Float xScale;

        /**
         * å¯é€‰ï¼Œå›¾åƒå±…ä¸­ï¼Œåœ¨å‚ç›´æ–¹å‘ä¸ŠæŒ‰æ¯”ä¾‹æ‰©å±•ï¼Œé»˜è®¤å€¼ 1.0ï¼ŒèŒƒå›´ [1.0, 3.0]
         */
        @Alias("y_scale")
        @JsonProperty("yScale")
        private Float yScale;

        /**
         * å¯é€‰ï¼Œåœ¨å›¾åƒä¸Šæ–¹æ·»åŠ åƒç´ ï¼Œé»˜è®¤å€¼ 0
         */
        @Alias("top_offset")
        private Integer topOffset;

        /**
         * å¯é€‰ï¼Œåœ¨å›¾åƒä¸‹æ–¹æ·»åŠ åƒç´ ï¼Œé»˜è®¤å€¼ 0
         */
        @Alias("bottom_offset")
        private Integer bottomOffset;

        /**
         * å¯é€‰ï¼Œåœ¨å›¾åƒå·¦ä¾§æ·»åŠ åƒç´ ï¼Œé»˜è®¤å€¼ 0
         */
        @Alias("left_offset")
        private Integer leftOffset;

        /**
         * å¯é€‰ï¼Œåœ¨å›¾åƒå³ä¾§æ·»åŠ åƒç´ ï¼Œé»˜è®¤å€¼ 0
         */
        @Alias("right_offset")
        private Integer rightOffset;

        /**
         * å¯é€‰ï¼Œå¼€å¯å›¾åƒæœ€ä½³è´¨é‡æ¨¡å¼ï¼Œé»˜è®¤å€¼ false
         * è‹¥ä¸º trueï¼Œè€—æ—¶ä¼šæˆå€å¢åŠ 
         */
        @Alias("best_quality")
        private Boolean bestQuality;

        /**
         * å¯é€‰ï¼Œé™åˆ¶æ¨¡å‹ç”Ÿæˆçš„å›¾åƒæ–‡ä»¶å¤§å°ï¼Œé»˜è®¤å€¼ true
         * - å•è¾¹é•¿åº¦ <= 10000ï¼šè¾“å‡ºå›¾åƒæ–‡ä»¶å¤§å°é™åˆ¶ä¸º 5MB ä»¥ä¸‹
         * - å•è¾¹é•¿åº¦ > 10000ï¼šè¾“å‡ºå›¾åƒæ–‡ä»¶å¤§å°é™åˆ¶ä¸º 10MB ä»¥ä¸‹
         */
        @Alias("limit_image_size")
        private Boolean limitImageSize;

        /**
         * å¯é€‰ï¼Œæ·»åŠ  "Generated by AI" æ°´å°ï¼Œé»˜è®¤å€¼ true
         */
        @Alias("add_watermark")
        private Boolean addWatermark = false;
    }
}
```

æ³¨æ„ï¼Œä¸Šè¿°ä»£ç ä¸­ï¼ŒæŸäº›å­—æ®µæ‰“ä¸Šäº† Hutool å·¥å…·ç±»çš„ `@Alias` æ³¨è§£ï¼Œè¿™ä¸ªæ³¨è§£ä»…å¯¹ Hutool çš„ JSON è½¬æ¢ç”Ÿæ•ˆï¼Œå¯¹ SpringMVC çš„ JSON è½¬æ¢æ²¡æœ‰ä»»ä½•å½±å“ã€‚

ğŸ’¡ è¿™é‡Œæœ‰ä¸€ä¸ªå·¨å‘çš„åœ°æ–¹ï¼ç»è¿‡æµ‹è¯•å‘ç°ï¼Œå‰ç«¯å¦‚æœä¼ é€’å‚æ•°å xScaleï¼Œæ˜¯æ— æ³•èµ‹å€¼ç»™ xScale å­—æ®µçš„ï¼›ä½†æ˜¯ä¼ é€’å‚æ•°å xscaleï¼Œå°±å¯ä»¥èµ‹å€¼ã€‚è¿™æ˜¯å› ä¸º SpringMVC å¯¹äºç¬¬äºŒä¸ªå­—æ¯æ˜¯å¤§å†™çš„å‚æ•°æ— æ³•æ˜ å°„ï¼ˆå’Œå‚æ•°ç±»åˆ«æ— å…³ï¼‰ï¼Œ[å‚è€ƒåšå®¢](https://blog.csdn.net/JokerHH/article/details/88729590)ã€‚

è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œç»™è¿™äº›å­—æ®µå¢åŠ  `@JsonProperty` æ³¨è§£ï¼š

```java
/**
 * å¯é€‰ï¼Œå›¾åƒå±…ä¸­ï¼Œåœ¨æ°´å¹³æ–¹å‘ä¸ŠæŒ‰æ¯”ä¾‹æ‰©å±•ï¼Œé»˜è®¤å€¼ 1.0ï¼ŒèŒƒå›´ [1.0, 3.0]
 */
@Alias("x_scale")
@JsonProperty("xScale")
private Float xScale;

/**
 * å¯é€‰ï¼Œå›¾åƒå±…ä¸­ï¼Œåœ¨å‚ç›´æ–¹å‘ä¸ŠæŒ‰æ¯”ä¾‹æ‰©å±•ï¼Œé»˜è®¤å€¼ 1.0ï¼ŒèŒƒå›´ [1.0, 3.0]
 */
@Alias("y_scale")
@JsonProperty("yScale")
private Float yScale;
```

ä¸ºä»€ä¹ˆ SpringMVC è¦è¿™æ ·è®¾è®¡å‘¢ï¼Ÿé€šè¿‡æŸ¥é˜…äº†è§£åˆ°ï¼Œè¿™æ˜¯å› ä¸º Jackson åœ¨å¤„ç†å­—æ®µåä¸ JSON å±æ€§åæ˜ å°„æ—¶ï¼Œä¼šä¾èµ– Java çš„ **æ ‡å‡†å‘½åè§„èŒƒ** å’Œ **åå°„ API**ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œæ ¹æ® JavaBean çš„è§„èŒƒï¼Œå±æ€§åç§°ä¸å…¶è®¿é—®å™¨æ–¹æ³•ï¼ˆgetter å’Œ setterï¼‰ä¹‹é—´çš„æ˜ å°„è§„åˆ™æ˜¯ï¼šå¦‚æœå±æ€§åä»¥å°å†™å­—æ¯å¼€å¤´ï¼Œç¬¬äºŒä¸ªå­—æ¯æ˜¯å¤§å†™ï¼ˆå¦‚ `eMail`ï¼‰ï¼Œè§„èŒƒä»è®¤ä¸ºå±æ€§åç§°æ˜¯ `eMail`ï¼Œè€Œè®¿é—®å™¨æ–¹æ³•åº”ä¸º `geteMail()` å’Œ `seteMail()`ã€‚ä½† Jackson ä¼šå°è¯•æ¨æ–­å±æ€§åä¸º `email`ï¼ˆå› ä¸º `eMail` ä¸å¸¸è§ï¼‰ï¼Œä»è€Œå¯¼è‡´ JSON ä¸­ `eMail` æˆ– `email` å¯èƒ½æ— æ³•æ­£ç¡®æ˜ å°„ã€‚

åˆ›å»ºæ‰©å›¾ä»»åŠ¡å“åº”ç±»ï¼š

```json
{
    "output": {
        "task_status": "PENDING",
        "task_id": "0385dc79-5ff8-4d82-bcb6-xxxxxx"
    },
    "request_id": "4909100c-7b5a-9f92-bfe5-xxxxxx"
}
```



```java
@Data
@NoArgsConstructor
@AllArgsConstructor
public class CreateOutPaintingTaskResponse {

    private Output output;

    /**
     * è¡¨ç¤ºä»»åŠ¡çš„è¾“å‡ºä¿¡æ¯
     */
    @Data
    public static class Output {

        /**
         * ä»»åŠ¡ ID
         */
        private String taskId;

        /**
         * ä»»åŠ¡çŠ¶æ€
         * <ul>
         *     <li>PENDINGï¼šæ’é˜Ÿä¸­</li>
         *     <li>RUNNINGï¼šå¤„ç†ä¸­</li>
         *     <li>SUSPENDEDï¼šæŒ‚èµ·</li>
         *     <li>SUCCEEDEDï¼šæ‰§è¡ŒæˆåŠŸ</li>
         *     <li>FAILEDï¼šæ‰§è¡Œå¤±è´¥</li>
         *     <li>UNKNOWNï¼šä»»åŠ¡ä¸å­˜åœ¨æˆ–çŠ¶æ€æœªçŸ¥</li>
         * </ul>
         */
        private String taskStatus;
    }

    /**
     * æ¥å£é”™è¯¯ç ã€‚
     * <p>æ¥å£æˆåŠŸè¯·æ±‚ä¸ä¼šè¿”å›è¯¥å‚æ•°ã€‚</p>
     */
    private String code;

    /**
     * æ¥å£é”™è¯¯ä¿¡æ¯ã€‚
     * <p>æ¥å£æˆåŠŸè¯·æ±‚ä¸ä¼šè¿”å›è¯¥å‚æ•°ã€‚</p>
     */
    private String message;

    /**
     * è¯·æ±‚å”¯ä¸€æ ‡è¯†ã€‚
     * <p>å¯ç”¨äºè¯·æ±‚æ˜ç»†æº¯æºå’Œé—®é¢˜æ’æŸ¥ã€‚</p>
     */
    private String requestId;

}
```

æŸ¥è¯¢ä»»åŠ¡å“åº”ç±»ï¼š

```java
@Data
@NoArgsConstructor
@AllArgsConstructor
public class GetOutPaintingTaskResponse {

    /**
     * è¯·æ±‚å”¯ä¸€æ ‡è¯†
     */
    private String requestId;

    /**
     * è¾“å‡ºä¿¡æ¯
     */
    private Output output;

    /**
     * è¡¨ç¤ºä»»åŠ¡çš„è¾“å‡ºä¿¡æ¯
     */
    @Data
    public static class Output {

        /**
         * ä»»åŠ¡ ID
         */
        private String taskId;

        /**
         * ä»»åŠ¡çŠ¶æ€
         * <ul>
         *     <li>PENDINGï¼šæ’é˜Ÿä¸­</li>
         *     <li>RUNNINGï¼šå¤„ç†ä¸­</li>
         *     <li>SUSPENDEDï¼šæŒ‚èµ·</li>
         *     <li>SUCCEEDEDï¼šæ‰§è¡ŒæˆåŠŸ</li>
         *     <li>FAILEDï¼šæ‰§è¡Œå¤±è´¥</li>
         *     <li>UNKNOWNï¼šä»»åŠ¡ä¸å­˜åœ¨æˆ–çŠ¶æ€æœªçŸ¥</li>
         * </ul>
         */
        private String taskStatus;

        /**
         * æäº¤æ—¶é—´
         * æ ¼å¼ï¼šYYYY-MM-DD HH:mm:ss.SSS
         */
        private String submitTime;

        /**
         * è°ƒåº¦æ—¶é—´
         * æ ¼å¼ï¼šYYYY-MM-DD HH:mm:ss.SSS
         */
        private String scheduledTime;

        /**
         * ç»“æŸæ—¶é—´
         * æ ¼å¼ï¼šYYYY-MM-DD HH:mm:ss.SSS
         */
        private String endTime;

        /**
         * è¾“å‡ºå›¾åƒçš„ URL
         */
        private String outputImageUrl;

        /**
         * æ¥å£é”™è¯¯ç 
         * <p>æ¥å£æˆåŠŸè¯·æ±‚ä¸ä¼šè¿”å›è¯¥å‚æ•°</p>
         */
        private String code;

        /**
         * æ¥å£é”™è¯¯ä¿¡æ¯
         * <p>æ¥å£æˆåŠŸè¯·æ±‚ä¸ä¼šè¿”å›è¯¥å‚æ•°</p>
         */
        private String message;

        /**
         * ä»»åŠ¡æŒ‡æ ‡ä¿¡æ¯
         */
        private TaskMetrics taskMetrics;
    }

    /**
     * è¡¨ç¤ºä»»åŠ¡çš„ç»Ÿè®¡ä¿¡æ¯
     */
    @Data
    public static class TaskMetrics {

        /**
         * æ€»ä»»åŠ¡æ•°
         */
        private Integer total;

        /**
         * æˆåŠŸä»»åŠ¡æ•°
         */
        private Integer succeeded;

        /**
         * å¤±è´¥ä»»åŠ¡æ•°
         */
        private Integer failed;
    }
}
```

5ï¼‰å¼€å‘ API è°ƒç”¨ç±»ï¼Œé€šè¿‡ Hutool çš„ HTTP è¯·æ±‚å·¥å…·ç±»æ¥è°ƒç”¨é˜¿é‡Œäº‘ç™¾ç‚¼çš„ APIï¼š

```java
@Slf4j
@Component
public class AliYunAiApi {
    // è¯»å–é…ç½®æ–‡ä»¶
    @Value("${aliYunAi.apiKey}")
    private String apiKey;

    // åˆ›å»ºä»»åŠ¡åœ°å€
    public static final String CREATE_OUT_PAINTING_TASK_URL = "https://dashscope.aliyuncs.com/api/v1/services/aigc/image2image/out-painting";

    // æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
    public static final String GET_OUT_PAINTING_TASK_URL = "https://dashscope.aliyuncs.com/api/v1/tasks/%s";

    /**
     * åˆ›å»ºä»»åŠ¡
     *
     * @param createOutPaintingTaskRequest
     * @return
     */
    public CreateOutPaintingTaskResponse createOutPaintingTask(CreateOutPaintingTaskRequest createOutPaintingTaskRequest) {
        if (createOutPaintingTaskRequest == null) {
            throw new BusinessException(ErrorCode.OPERATION_ERROR, "æ‰©å›¾å‚æ•°ä¸ºç©º");
        }
        // å‘é€è¯·æ±‚
        HttpRequest httpRequest = HttpRequest.post(CREATE_OUT_PAINTING_TASK_URL)
                .header(Header.AUTHORIZATION, "Bearer " + apiKey)
                // å¿…é¡»å¼€å¯å¼‚æ­¥å¤„ç†ï¼Œè®¾ç½®ä¸ºenableã€‚
                .header("X-DashScope-Async", "enable")
                .header(Header.CONTENT_TYPE, ContentType.JSON.getValue())
                .body(JSONUtil.toJsonStr(createOutPaintingTaskRequest));
        try (HttpResponse httpResponse = httpRequest.execute()) {
            if (!httpResponse.isOk()) {
                log.error("è¯·æ±‚å¼‚å¸¸ï¼š{}", httpResponse.body());
                throw new BusinessException(ErrorCode.OPERATION_ERROR, "AI æ‰©å›¾å¤±è´¥");
            }
            CreateOutPaintingTaskResponse response = JSONUtil.toBean(httpResponse.body(), CreateOutPaintingTaskResponse.class);
            String errorCode = response.getCode();
            if (StrUtil.isNotBlank(errorCode)) {
                String errorMessage = response.getMessage();
                log.error("AI æ‰©å›¾å¤±è´¥ï¼ŒerrorCode:{}, errorMessage:{}", errorCode, errorMessage);
                throw new BusinessException(ErrorCode.OPERATION_ERROR, "AI æ‰©å›¾æ¥å£å“åº”å¼‚å¸¸");
            }
            return response;
        }
    }

    /**
     * æŸ¥è¯¢åˆ›å»ºçš„ä»»åŠ¡
     *
     * @param taskId
     * @return
     */
    public GetOutPaintingTaskResponse getOutPaintingTask(String taskId) {
        if (StrUtil.isBlank(taskId)) {
            throw new BusinessException(ErrorCode.OPERATION_ERROR, "ä»»åŠ¡ id ä¸èƒ½ä¸ºç©º");
        }
        try (HttpResponse httpResponse = HttpRequest.get(String.format(GET_OUT_PAINTING_TASK_URL, taskId))
                .header(Header.AUTHORIZATION, "Bearer " + apiKey)
                .execute()) {
            if (!httpResponse.isOk()) {
                throw new BusinessException(ErrorCode.OPERATION_ERROR, "è·å–ä»»åŠ¡å¤±è´¥");
            }
            return JSONUtil.toBean(httpResponse.body(), GetOutPaintingTaskResponse.class);
        }
    }
}
```

æ³¨æ„ï¼Œè¦æŒ‰ç…§å®˜æ–¹æ–‡æ¡£çš„è¦æ±‚ç»™è¯·æ±‚å¤´å¢åŠ é‰´æƒä¿¡æ¯ï¼Œæ‹¼æ¥é…ç½®ä¸­å†™å¥½çš„ apiKeyï¼š

![](https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/202503212346263.png)

![](https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/202503212333885.png)

#### 2ã€æ‰©å›¾æœåŠ¡

åœ¨ `model.dto.picture` åŒ…ä¸‹æ–°å»º AI æ‰©å›¾è¯·æ±‚ç±»ï¼Œç”¨äºæ¥å—å‰ç«¯ä¼ æ¥çš„å‚æ•°å¹¶ä¼ é€’ç»™ Service æœåŠ¡å±‚ã€‚å­—æ®µåŒ…æ‹¬å›¾ç‰‡ id å’Œæ‰©å›¾å‚æ•°ï¼š

```java
@Data
public class CreatePictureOutPaintingTaskRequest implements Serializable {

    /**
     * å›¾ç‰‡ id
     */
    private Long pictureId;

    /**
     * æ‰©å›¾å‚æ•°
     */
    private CreateOutPaintingTaskRequest.Parameters parameters;

    private static final long serialVersionUID = 1L;
}
```

åœ¨å›¾ç‰‡æœåŠ¡ä¸­ç¼–å†™åˆ›å»ºæ‰©å›¾ä»»åŠ¡æ–¹æ³•ï¼Œä»æ•°æ®åº“ä¸­è·å–å›¾ç‰‡ä¿¡æ¯å’Œ url åœ°å€ï¼Œæ„é€ è¯·æ±‚å‚æ•°åè°ƒç”¨ api åˆ›å»ºæ‰©å›¾ä»»åŠ¡ã€‚æ³¨æ„ï¼Œå¦‚æœå›¾ç‰‡æœ‰ç©ºé—´ idï¼Œåˆ™éœ€è¦æ ¡éªŒæƒé™ï¼Œç›´æ¥å¤ç”¨ä»¥å‰çš„æƒé™æ ¡éªŒæ–¹æ³•ã€‚

```java
@Override
public CreateOutPaintingTaskResponse createPictureOutPaintingTask(CreatePictureOutPaintingTaskRequest createPictureOutPaintingTaskRequest, User loginUser) {
    // è·å–å›¾ç‰‡ä¿¡æ¯
    Long pictureId = createPictureOutPaintingTaskRequest.getPictureId();
    Picture picture = Optional.ofNullable(this.getById(pictureId))
            .orElseThrow(() -> new BusinessException(ErrorCode.NOT_FOUND_ERROR));
    // æƒé™æ ¡éªŒ
    checkPictureAuth(loginUser, picture);
    // æ„é€ è¯·æ±‚å‚æ•°
    CreateOutPaintingTaskRequest taskRequest = new CreateOutPaintingTaskRequest();
    CreateOutPaintingTaskRequest.Input input = new CreateOutPaintingTaskRequest.Input();
    input.setImageUrl(picture.getUrl());
    taskRequest.setInput(input);
    BeanUtil.copyProperties(createPictureOutPaintingTaskRequest, taskRequest);
    // åˆ›å»ºä»»åŠ¡
    return aliYunAiApi.createOutPaintingTask(taskRequest);
}
```

#### 3ã€æ‰©å›¾æ¥å£

åœ¨ PictureController æ·»åŠ  AI æ‰©å›¾æ¥å£ï¼ŒåŒ…æ‹¬åˆ›å»ºä»»åŠ¡å’ŒæŸ¥è¯¢ä»»åŠ¡çŠ¶æ€æ¥å£ï¼š

```java
/**
 * åˆ›å»º AI æ‰©å›¾ä»»åŠ¡
 */
@PostMapping("/out_painting/create_task")
public BaseResponse<CreateOutPaintingTaskResponse> createPictureOutPaintingTask(
        @RequestBody CreatePictureOutPaintingTaskRequest createPictureOutPaintingTaskRequest,
        HttpServletRequest request) {
    if (createPictureOutPaintingTaskRequest == null || createPictureOutPaintingTaskRequest.getPictureId() == null) {
        throw new BusinessException(ErrorCode.PARAMS_ERROR);
    }
    User loginUser = userService.getLoginUser(request);
    CreateOutPaintingTaskResponse response = pictureService.createPictureOutPaintingTask(createPictureOutPaintingTaskRequest, loginUser);
    return ResultUtils.success(response);
}

/**
 * æŸ¥è¯¢ AI æ‰©å›¾ä»»åŠ¡
 */
@GetMapping("/out_painting/get_task")
public BaseResponse<GetOutPaintingTaskResponse> getPictureOutPaintingTask(String taskId) {
    ThrowUtils.throwIf(StrUtil.isBlank(taskId), ErrorCode.PARAMS_ERROR);
    GetOutPaintingTaskResponse task = aliYunAiApi.getOutPaintingTask(taskId);
    return ResultUtils.success(task);
}
```

### 4ã€å‰ç«¯å¼€å‘

ç¼–å†™åˆ›å»ºä»»åŠ¡å‡½æ•°ï¼š

```typescript
// ä»»åŠ¡ id
let taskId = ref<string>()

/**
 * åˆ›å»ºä»»åŠ¡
 */
const createTask = async () => {
  if (!props.picture?.id) {
    return
  }
  const res = await createPictureOutPaintingTaskUsingPost({
    pictureId: props.picture.id,
    // å¯ä»¥æ ¹æ®éœ€è¦è®¾ç½®æ‰©å›¾å‚æ•°
    parameters: {
      xScale: 2,
      yScale: 2,
    },
  })
  if (res.data.code === 0 && res.data.data) {
    message.success('åˆ›å»ºä»»åŠ¡æˆåŠŸï¼Œè¯·è€å¿ƒç­‰å¾…ï¼Œä¸è¦é€€å‡ºç•Œé¢')
    console.log(res.data.data.output.taskId)
    taskId.value = res.data.data.output.taskId
    // å¼€å¯è½®è¯¢
    startPolling()
  } else {
    message.error('åˆ›å»ºä»»åŠ¡å¤±è´¥ï¼Œ' + res.data.message)
  }
}
```

ä»»åŠ¡åˆ›å»ºæˆåŠŸåï¼Œè¦å¼€å¯è½®è¯¢ã€‚

ç¼–å†™è½®è¯¢é€»è¾‘ã€‚æ³¨æ„æ— è®ºä»»åŠ¡æ‰§è¡ŒæˆåŠŸæˆ–å¤±è´¥ã€è¿˜æ˜¯é€€å‡ºå½“å‰é¡µé¢æ—¶ï¼Œéƒ½éœ€è¦æ‰§è¡Œæ¸…ç†é€»è¾‘ï¼ŒåŒ…æ‹¬ï¼š

- æ¸…ç†å®šæ—¶å™¨
- å°†å®šæ—¶å™¨å˜é‡è®¾ç½®ä¸º null
- å°†ä»»åŠ¡ id è®¾ç½®ä¸º nullï¼Œè¿™æ ·å…è®¸å‰ç«¯å¤šæ¬¡æ‰§è¡Œä»»åŠ¡

ä»£ç å¦‚ä¸‹ï¼š

```typescript
// è½®è¯¢å®šæ—¶å™¨
let pollingTimer: NodeJS.Timeout = null

// æ¸…ç†è½®è¯¢å®šæ—¶å™¨
const clearPolling = () => {
  if (pollingTimer) {
    clearInterval(pollingTimer)
    pollingTimer = null
    taskId.value = null
  }
}

// å¼€å§‹è½®è¯¢
const startPolling = () => {
  if (!taskId.value) return

  pollingTimer = setInterval(async () => {
    try {
      const res = await getPictureOutPaintingTaskUsingGet({
        taskId: taskId.value,
      })
      if (res.data.code === 0 && res.data.data) {
        const taskResult = res.data.data.output
        if (taskResult.taskStatus === 'SUCCEEDED') {
          message.success('æ‰©å›¾ä»»åŠ¡æˆåŠŸ')
          resultImageUrl.value = taskResult.outputImageUrl
          clearPolling()
        } else if (taskResult.taskStatus === 'FAILED') {
          message.error('æ‰©å›¾ä»»åŠ¡å¤±è´¥')
          clearPolling()
        }
      }
    } catch (error) {
      console.error('è½®è¯¢ä»»åŠ¡çŠ¶æ€å¤±è´¥', error)
      message.error('æ£€æµ‹ä»»åŠ¡çŠ¶æ€å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•')
      clearPolling()
    }
  }, 3000) // æ¯éš” 3 ç§’è½®è¯¢ä¸€æ¬¡
}

// æ¸…ç†å®šæ—¶å™¨ï¼Œé¿å…å†…å­˜æ³„æ¼
onUnmounted(() => {
  clearPolling()
})
```

### 5ã€æ‰©å±•çŸ¥è¯† - å¼‚æ­¥ä»»åŠ¡ä¼˜åŒ–

1ï¼‰ä»»åŠ¡é˜Ÿåˆ—å’Œä¼˜å…ˆçº§

ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼ˆæ¯”å¦‚ RabbitMQã€Kafkaï¼‰å¯¹å¼‚æ­¥ä»»åŠ¡è¿›è¡Œç®¡ç†ï¼Œå¯ä»¥æ ¹æ®ä¼˜å…ˆçº§ï¼ˆä¼šå‘˜&æ™®é€šç”¨æˆ·ï¼‰çµæ´»è°ƒåº¦ä»»åŠ¡ã€‚é€šè¿‡é˜Ÿåˆ—è¿˜å¯ä»¥é™åˆ¶åŒæ—¶å¤„ç†çš„ä»»åŠ¡æ•°é‡ã€å‰Šå³°å¡«è°·ï¼Œé˜²æ­¢èµ„æºè¿‡è½½ï¼Œæé«˜ç³»ç»Ÿç¨³å®šæ€§ã€‚

2ï¼‰ä»»åŠ¡è®°å½•å’ŒçŠ¶æ€ç®¡ç†

ç°åœ¨ç”¨æˆ·æ˜¯æ— æ³•æ‰¾åˆ°å¾€æœŸæ‰§è¡Œçš„ä»»åŠ¡å’Œç”Ÿæˆçš„å›¾ç‰‡çš„ã€‚å¯ä»¥è®¾è®¡ä»»åŠ¡è®°å½•è¡¨ï¼Œå­˜å‚¨æ¯ä¸ªä»»åŠ¡çš„çŠ¶æ€ã€ç»“æœå’Œç›¸å…³ä¿¡æ¯ï¼Œå¹¶æä¾›æ¥å£ä¾›ç”¨æˆ·æŸ¥è¯¢å†å²ä»»åŠ¡ã€‚

å‰ç«¯å¯ä»¥ç»™ç”¨æˆ·æä¾›å¾€æœŸä»»åŠ¡æŸ¥è¯¢é¡µé¢ï¼Œèƒ½å¤ŸæŸ¥çœ‹ä»»åŠ¡ç»“æœã€é‡è¯•æŸä¸€æ¬¡ä»»åŠ¡ç­‰ã€‚è¿˜å¯ä»¥ç»™ç®¡ç†å‘˜æä¾›ç›‘æ§ç³»ç»Ÿæ‰€æœ‰ä»»åŠ¡çš„é¡µé¢ï¼Œæ¯”å¦‚ä»»åŠ¡æ•°ã€æˆåŠŸç‡å’Œå¤±è´¥ç‡ï¼Œå…¨é¢æŒæ¡ä»»åŠ¡æ‰§è¡Œæƒ…å†µã€‚

å®ç°èµ·æ¥å¹¶ä¸éš¾ï¼Œå…¶å®å°±æ˜¯å¯¹ä»»åŠ¡è®°å½•è¡¨çš„å¢åˆ æ”¹æŸ¥ã€‚

3ï¼‰ä»»åŠ¡é”™è¯¯ä¿¡æ¯ä¼˜åŒ–

å®Œå–„ä»»åŠ¡å¤±è´¥çš„å…·ä½“åŸå› ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿç†è§£å’Œè§£å†³é—®é¢˜ã€‚æ¯”å¦‚å‚æ•°é”™è¯¯ã€å›¾ç‰‡æ ¼å¼ä¸æ”¯æŒç­‰ã€‚å¦‚æœè°ƒç”¨äº†ç¬¬ä¸‰æ–¹æ¥å£ï¼Œéœ€è¦è®¤çœŸé˜…è¯»æ¥å£æ‰€æœ‰å¯èƒ½çš„é”™è¯¯æƒ…å†µã€‚

4ï¼‰è®¡è´¹ä¸é¢åº¦æ§åˆ¶

AI æ‰©å›¾ä¸€èˆ¬æ˜¯è®¡è´¹ä¸šåŠ¡ï¼Œéœ€è¦åšå¥½é¢åº¦æ§åˆ¶ï¼Œå¹¶ä¸”ä»…ç™»å½•ç”¨æˆ·æ‰å¯ä»¥ä½¿ç”¨ã€‚

åˆ†äº«å‡ ä¸ªå®ç°æ€è·¯ï¼š

1. åœ¨ç”¨æˆ·è¡¨ä¸­æ·»åŠ â€œæ‰©å›¾é¢åº¦â€ï¼ˆæ¯”å¦‚ä½¿ç”¨æ¬¡æ•°æˆ–ä½™é¢ï¼‰ï¼Œæ¯æ¬¡æäº¤ä»»åŠ¡å‰å…ˆæ£€æŸ¥é¢åº¦æ˜¯å¦è¶³å¤Ÿï¼Œé¢åº¦ä¸è¶³åˆ™æç¤ºç”¨æˆ·å……å€¼ã€‚
2. æ¯æ¬¡ä»»åŠ¡æäº¤æ—¶ï¼Œå¯é‡‡ç”¨é¢„æ‰£è´¹é€»è¾‘ï¼Œä»»åŠ¡å®Œæˆæ‰£è´¹ï¼Œä»»åŠ¡å¤±è´¥åˆ™è‡ªåŠ¨é€€è¿˜é¢åº¦ã€‚
3. æä¾›æŸ¥è¯¢ç”¨æˆ·å½“å‰å‰©ä½™é¢åº¦çš„æ¥å£ï¼Œç”¨æˆ·å¯ä»¥åœ¨å‰ç«¯çœ‹åˆ°è‡ªå·±å‰©ä½™çš„é¢åº¦ã€‚
4. æ”¯æŒå……å€¼é¢åº¦æˆ–ä¼šå‘˜è®¢é˜…åˆ¶æ”¶è´¹ï¼Œè¿˜å¯ä»¥æ ¹æ®æ‰©å›¾æ¨¡å¼æŒ‰æ¯”ä¾‹æ‰£è´¹ã€‚æ¯”å¦‚æ™®é€šæ¨¡å¼æ‰£ 1 ç‚¹ï¼Œé«˜æ¸…æ¨¡å¼æ‰£ 2 ç‚¹ã€‚

ğŸ’¡ ä¸€èˆ¬å¯¹äºåä»˜è´¹èµ„æºï¼ˆéšç”¨éšä»˜è´¹ï¼‰ï¼Œå³ä½¿ä½™é¢ < 0ï¼Œå°é¢æ¬ è´¹ä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„ã€‚å°¤å…¶æ˜¯å¯¹äºå¤§å‚äº‘æœåŠ¡æ¥è¯´ï¼Œç”±äºè°ƒç”¨é‡å·¨å¤§ï¼Œå¾ˆéš¾åšåˆ°å®æ—¶è®¡è´¹ã€‚

5ï¼‰å®‰å…¨æ€§ä¸ç¨³å®šæ€§

ç”±äºä»»åŠ¡è¦æ¶ˆè€—ç³»ç»Ÿèµ„æºæˆ–æˆæœ¬ï¼Œæ‰€ä»¥ä¸€å®šè¦è®¾ç½®åˆç†çš„é™æµè§„åˆ™ï¼Œé˜²æ­¢æ¶æ„åˆ·ä»»åŠ¡ã€‚æ¯”å¦‚é™åˆ¶å•ç”¨æˆ·çš„ä»»åŠ¡æäº¤é¢‘ç‡ï¼Œæ¯åˆ†é’Ÿæœ€å¤šå…è®¸æäº¤ 3 æ¬¡ä»»åŠ¡ï¼Œè¶…è¿‡é™åˆ¶åè¿”å›æç¤ºä¿¡æ¯ã€‚LeY+CMP/iVrjKScwdgoauOiyW1XV5gYPHt1Hp/RYkek=sh73BCt3Qxf5JT1JjRCD/wiXC5EF5J2PadQ+z7zCgT0=

å¯¹äºé•¿è€—æ—¶ä»»åŠ¡ï¼Œè¿˜è¦è®¾ç½®ä»»åŠ¡çš„æœ€å¤§æ‰§è¡Œæ—¶é—´ï¼ˆæ¯”å¦‚ 10 åˆ†é’Ÿï¼‰ï¼Œè¶…æ—¶åˆ™è‡ªåŠ¨æ ‡è®°ä»»åŠ¡å¤±è´¥ã€‚

### 6ã€æ‰©å±•

1ã€å°è¯•æ›´å¤š AI å›¾ç‰‡å¤„ç†èƒ½åŠ›ï¼Œæ¯”å¦‚ [å‚è€ƒæ–‡æ¡£å®ç°å›¾é…æ–‡](https://help.aliyun.com/zh/model-studio/developer-reference/image-text-composition-api-reference)

2ã€å¦‚æœ AI ç»˜ç”» API æ”¯æŒè¿”å›å½“å‰è¿›åº¦ï¼ˆæ¯”å¦‚ MidJourney çš„ APIï¼‰ï¼Œå¯ä»¥é€šè¿‡ SSE çš„æ–¹å¼å°†è¿›åº¦è¿”å›ç»™å‰ç«¯ã€‚

3ã€ä¼˜åŒ– AI æ‰©å›¾å‚æ•°ã€‚å¯ä»¥ [å‚è€ƒå®˜æ–¹æ–‡æ¡£](https://help.aliyun.com/zh/model-studio/developer-reference/image-scaling-api)ï¼Œè¡¥å……æ›´å¤šæ‰©å›¾å‚æ•°ï¼Œå¹¶å…è®¸ç”¨æˆ·è‡ªä¸»é€‰æ‹©æ‰©å›¾å‚æ•°ï¼š

