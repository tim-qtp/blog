import{_ as s,W as e,X as n,a2 as o}from"./framework-48328e23.js";const a={},c=o(`<p><code>IN</code> 适用于子查询结果集较小的情况。如果子查询返回大量数据，<code>IN</code> 的性能可能会下降，因为它需要将整个结果集</p><p>加载到内存。</p><p>而 EXISTS 适用于子查询结果集可能很大的情况。由于 <code>EXISTS</code> 只需要判断子查询是否返回行，而不需要加载整个结</p><p>果集，因此在某些情况下性能更好，特别是当子查询可以使用索引时。</p><p>比如说：</p><ol><li><p><strong><code>IN</code> 子句</strong>：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> customer_name
<span class="token keyword">FROM</span> customers
<span class="token keyword">WHERE</span> customer_id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> customer_id <span class="token keyword">FROM</span> orders<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>这条语句会先执行子查询 <code>SELECT customer_id FROM orders</code>，得到一个客户 ID 的列表。</li><li>然后，主查询会检查 <code>customers</code> 表中的 <code>customer_id</code> 是否存在于这个列表中。</li><li>如果存在，就返回对应的 <code>customer_name</code>。</li></ul></li><li><p><strong><code>EXISTS</code> 子句</strong>：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> customer_name
<span class="token keyword">FROM</span> customers
<span class="token keyword">WHERE</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token number">1</span> <span class="token keyword">FROM</span> orders <span class="token keyword">WHERE</span> orders<span class="token punctuation">.</span>customer_id <span class="token operator">=</span> customers<span class="token punctuation">.</span>customer_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>这条语句会对 <code>customers</code> 表中的每一行执行子查询 <code>SELECT 1 FROM orders WHERE orders.customer_id = customers.customer_id</code>。</li><li>如果子查询返回至少一行数据（即存在匹配的订单记录），<code>EXISTS</code> 返回 <code>TRUE</code>。</li><li>如果返回 <code>TRUE</code>，主查询就会返回对应的 <code>customer_name</code>。</li></ul></li></ol>`,6),d=[c];function t(l,r){return e(),n("div",null,d)}const p=s(a,[["render",t],["__file","13.in and exists.html.vue"]]);export{p as default};
