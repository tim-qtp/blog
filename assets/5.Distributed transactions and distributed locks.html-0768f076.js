const e=JSON.parse('{"key":"v-f0bb2670","path":"/projectessay/practicalProjects/flashSale/5.Distributed%20transactions%20and%20distributed%20locks.html","title":"分布式事务+分布式锁","lang":"zh-CN","frontmatter":{"order":5,"author":null,"title":"分布式事务+分布式锁","category":["秒杀","项目"],"description":"1 分布式锁 1.1 问题分析 上面抢单过程实现了，但其实还是有问题，会发生超卖问题，如下图： ​ 在多线程执行的情况下，上面的抢单流程会发生超卖问题，比如只剩下1个商品，多线程同时判断是否有库存的时候，会同时判断有库存，最终导致1个商品多个订单的问题发生。 因为库存判断和减库存分成了两步去做，这不是原子操作。 但是我们现在不是使用SQL操作数据库，所...","head":[["meta",{"property":"og:url","content":"https://tim-qtp.github.io/blog/blog/projectessay/practicalProjects/flashSale/5.Distributed%20transactions%20and%20distributed%20locks.html"}],["meta",{"property":"og:site_name","content":"Qtp"}],["meta",{"property":"og:title","content":"分布式事务+分布式锁"}],["meta",{"property":"og:description","content":"1 分布式锁 1.1 问题分析 上面抢单过程实现了，但其实还是有问题，会发生超卖问题，如下图： ​ 在多线程执行的情况下，上面的抢单流程会发生超卖问题，比如只剩下1个商品，多线程同时判断是否有库存的时候，会同时判断有库存，最终导致1个商品多个订单的问题发生。 因为库存判断和减库存分成了两步去做，这不是原子操作。 但是我们现在不是使用SQL操作数据库，所..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-12T01:17:00.000Z"}],["meta",{"property":"article:author","content":"tim-qtp"}],["meta",{"property":"article:modified_time","content":"2025-03-12T01:17:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"分布式事务+分布式锁\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-03-12T01:17:00.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"tim-qtp\\",\\"url\\":\\"https://github.com/tim-qtp/\\"}]}"]]},"headers":[{"level":2,"title":"1 分布式锁","slug":"_1-分布式锁","link":"#_1-分布式锁","children":[{"level":3,"title":"1.1 问题分析","slug":"_1-1-问题分析","link":"#_1-1-问题分析","children":[]},{"level":3,"title":"1.2 redisson分布式锁","slug":"_1-2-redisson分布式锁","link":"#_1-2-redisson分布式锁","children":[]},{"level":3,"title":"1.3 Redisson分布式锁控制超卖","slug":"_1-3-redisson分布式锁控制超卖","link":"#_1-3-redisson分布式锁控制超卖","children":[]}]},{"level":2,"title":"2 分布式事务","slug":"_2-分布式事务","link":"#_2-分布式事务","children":[{"level":3,"title":"2.1 分布式事务介绍","slug":"_2-1-分布式事务介绍","link":"#_2-1-分布式事务介绍","children":[]},{"level":3,"title":"2.2 分布式事务解决方案","slug":"_2-2-分布式事务解决方案","link":"#_2-2-分布式事务解决方案","children":[]}]},{"level":2,"title":"3 Seata分布式事务","slug":"_3-seata分布式事务","link":"#_3-seata分布式事务","children":[{"level":3,"title":"3.1 Seata介绍","slug":"_3-1-seata介绍","link":"#_3-1-seata介绍","children":[]},{"level":3,"title":"3.2 Seata模式讲解","slug":"_3-2-seata模式讲解","link":"#_3-2-seata模式讲解","children":[]},{"level":3,"title":"3.3 抢单分布式事务实现","slug":"_3-3-抢单分布式事务实现","link":"#_3-3-抢单分布式事务实现","children":[]}]},{"level":2,"title":"4 WebSocket（通知用户抢单成功）","slug":"_4-websocket-通知用户抢单成功","link":"#_4-websocket-通知用户抢单成功","children":[{"level":3,"title":"4.1 WebSocket介绍","slug":"_4-1-websocket介绍","link":"#_4-1-websocket介绍","children":[]},{"level":3,"title":"4.2 Websocket API","slug":"_4-2-websocket-api","link":"#_4-2-websocket-api","children":[]},{"level":3,"title":"4.3 WebSocket实例","slug":"_4-3-websocket实例","link":"#_4-3-websocket实例","children":[]}]},{"level":2,"title":"5 Netty","slug":"_5-netty","link":"#_5-netty","children":[{"level":3,"title":"5.1 BIO编程","slug":"_5-1-bio编程","link":"#_5-1-bio编程","children":[]},{"level":3,"title":"5.2 NIO编程","slug":"_5-2-nio编程","link":"#_5-2-nio编程","children":[]},{"level":3,"title":"5.3 Netty介绍","slug":"_5-3-netty介绍","link":"#_5-3-netty介绍","children":[]},{"level":3,"title":"5.2 Netty+WebSocket","slug":"_5-2-netty-websocket","link":"#_5-2-netty-websocket","children":[]},{"level":3,"title":"5.3 订单状态更新通知","slug":"_5-3-订单状态更新通知","link":"#_5-3-订单状态更新通知","children":[]}]}],"git":{"createdTime":1741104048000,"updatedTime":1741742220000,"contributors":[{"name":"tim-qtp","email":"2469100031@qq.com","commits":3}]},"readingTime":{"minutes":50.95,"words":15284},"filePathRelative":"projectessay/practicalProjects/flashSale/5.Distributed transactions and distributed locks.md","localizedDate":"2025年3月4日","autoDesc":true,"excerpt":""}');export{e as data};
