import{_ as i,W as t,X as o,$ as a,a0 as s,Z as e,a2 as l,C as r}from"./framework-6a3aa88c.js";const c={},p=l(`<h2 id="redis安装" tabindex="-1"><a class="header-anchor" href="#redis安装" aria-hidden="true">#</a> Redis安装</h2><ul><li>下载Redis<code>7</code>的docker镜像：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> pull redis:7
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>使用如下命令启动Redis服务：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">6379</span>:6379 <span class="token parameter variable">--name</span> redis <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span> /mydata/redis/data:/data <span class="token punctuation">\\</span>
<span class="token parameter variable">-d</span> redis:7 redis-server <span class="token parameter variable">--appendonly</span> <span class="token function">yes</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>进入Redis容器使用<code>redis-cli</code>命令进行连接：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> redis redis-cli
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/image-20241230172248420.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="jdk安装" tabindex="-1"><a class="header-anchor" href="#jdk安装" aria-hidden="true">#</a> JDK安装</h2><ul><li>宝塔方式安装，默认安装路径为</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>/www/server/java/jdk1.8.0_371
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>安装包解压方式</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># jdk镜像仓库：https://repo.huaweicloud.com/java/jdk/8u171-b11/</span>

<span class="token comment"># 下载、解压jdk</span>
<span class="token function">wget</span> https://repo.huaweicloud.com/java/jdk/8u171-b11/jdk-8u171-linux-x64.tar.gz
<span class="token function">tar</span> <span class="token parameter variable">-zxf</span> jdk-8u171-linux-x64.tar.gz
<span class="token function">mv</span> jdk1.8.0_171 /usr/local/jdk8

<span class="token comment"># 配置环境</span>
<span class="token function">vi</span> /etc/profile

<span class="token comment"># 添加内容：</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/usr/local/jdk8
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token environment constant">$PATH</span>

<span class="token comment"># 配置生效命令</span>
<span class="token builtin class-name">source</span> /etc/profile
<span class="token comment">#查看java版本命令</span>
<span class="token function">java</span> <span class="token parameter variable">-version</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>unzip命令安装</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token function">unzip</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="mysql8-0安装" tabindex="-1"><a class="header-anchor" href="#mysql8-0安装" aria-hidden="true">#</a> MySQL8.0安装</h2><ul><li>新建本机配置文件夹<code>/mydata/mysql/conf</code>，且创建配置文件</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#创建MySQL配置文件</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /mnt/mysql/conf
<span class="token comment">#创建配置文件mysql.cnf</span>
<span class="token function">vim</span> /mnt/mysql/conf/mysql.cnf

<span class="token comment">#内容如下：</span>
<span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>
<span class="token comment"># 设置关闭二进制日志</span>
skip-log-bin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>启动MySQL容器</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token parameter variable">--name</span> mysql <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span> /mydata/mysql/log:/var/log/mysql <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span> /mydata/mysql/data:/var/lib/mysql <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span> /mydata/mysql/conf:/etc/mysql/conf.d  <span class="token punctuation">\\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>NFNUL0ec1pqN  <span class="token punctuation">\\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">TZ</span><span class="token operator">=</span>Asia/Shanghai <span class="token punctuation">\\</span>
<span class="token parameter variable">-d</span> mysql:8.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="nacos" tabindex="-1"><a class="header-anchor" href="#nacos" aria-hidden="true">#</a> Nacos</h2><div class="language-SH line-numbers-mode" data-ext="SH"><pre class="language-SH"><code>docker run -id --name nacos \\
--restart=always -p 8848:8848 \\
-e MODE=standalone nacos/nacos-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="rabbitmq安装" tabindex="-1"><a class="header-anchor" href="#rabbitmq安装" aria-hidden="true">#</a> RabbitMQ安装</h2><ul><li>下载rabbitmq3.9.11-management的docker镜像：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> pull rabbitmq:3.9.11-management
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>使用如下命令启动RabbitMQ服务：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">5672</span>:5672 <span class="token parameter variable">-p</span> <span class="token number">15672</span>:15672 <span class="token parameter variable">--name</span> rabbitmq <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span> /mydata/rabbitmq/data:/var/lib/rabbitmq <span class="token punctuation">\\</span>
<span class="token parameter variable">-d</span> rabbitmq:3.9.11-management
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>开启防火墙</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">15672</span>/tcp <span class="token parameter variable">--permanent</span>
firewall-cmd <span class="token parameter variable">--reload</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,29),d={href:"http://192.168.3.101:15672",target:"_blank",rel:"noopener noreferrer"},u=l(`<figure><img src="https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/mall_linux_deploy_03.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>输入账号密码并登录：guest guest</li><li>创建帐号并设置其角色为管理员：mall mall</li></ul><figure><img src="https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/re_mall_deploy_docker_01.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>创建一个新的虚拟host为：/mall</li></ul><figure><img src="https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/re_mall_deploy_docker_02.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>点击mall用户进入用户配置页面</li></ul><figure><img src="https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/re_mall_deploy_docker_03.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>给mall用户配置该虚拟host的权限</li></ul><figure><img src="https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/re_mall_deploy_docker_04.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="elasticsearch安装" tabindex="-1"><a class="header-anchor" href="#elasticsearch安装" aria-hidden="true">#</a> Elasticsearch安装</h2><ul><li>下载Elasticsearch<code>7.17.3</code>的docker镜像：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> pull elasticsearch:7.17.3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>修改虚拟内存区域大小，否则会因为过小而无法启动:</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sysctl</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">vm.max_map_count</span><span class="token operator">=</span><span class="token number">262144</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>使用如下命令启动Elasticsearch服务，内存小的服务器可以通过<code>ES_JAVA_OPTS</code>来设置占用内存大小：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">9200</span>:9200 <span class="token parameter variable">-p</span> <span class="token number">9300</span>:9300 <span class="token parameter variable">--name</span> elasticsearch <span class="token punctuation">\\</span>
<span class="token parameter variable">-e</span> <span class="token string">&quot;discovery.type=single-node&quot;</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">-e</span> <span class="token string">&quot;cluster.name=elasticsearch&quot;</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">-e</span> <span class="token string">&quot;ES_JAVA_OPTS=-Xms512m -Xmx1024m&quot;</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span> /mydata/elasticsearch/plugins:/usr/share/elasticsearch/plugins <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span> /mydata/elasticsearch/data:/usr/share/elasticsearch/data <span class="token punctuation">\\</span>
<span class="token parameter variable">-d</span> elasticsearch:7.17.3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>启动时会发现<code>/usr/share/elasticsearch/data</code>目录没有访问权限，只需要修改<code>/mydata/elasticsearch/data</code>目录的权限，再重新启动即可；</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">chmod</span> <span class="token number">777</span> /mydata/elasticsearch/data/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,18),m={href:"https://release.infinilabs.com/analysis-ik/stable/",target:"_blank",rel:"noopener noreferrer"},v=l(`<figure><img src="https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/image-20241230172824287.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>下载完成后解压到Elasticsearch的<code>/mydata/elasticsearch/plugins</code>目录下；</li><li>重新启动服务：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> restart elasticsearch
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>开启防火墙：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">9200</span>/tcp <span class="token parameter variable">--permanent</span>
firewall-cmd <span class="token parameter variable">--reload</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,5),b={href:"http://192.168.3.101:9200",target:"_blank",rel:"noopener noreferrer"},k=l(`<div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;708f1d885c16&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cluster_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;elasticsearch&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cluster_uuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mza51wT-QvaZ5R0NmE183g&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;number&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7.17.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build_flavor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;docker&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build_hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5ad023604c8d7416c9eb6c0eadb62b14e766caff&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build_date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-04-19T08:11:19.070913226Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build_snapshot&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lucene_version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;8.11.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;minimum_wire_compatibility_version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6.8.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;minimum_index_compatibility_version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6.0.0-beta1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tagline&quot;</span><span class="token operator">:</span> <span class="token string">&quot;You Know, for Search&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="logstash安装" tabindex="-1"><a class="header-anchor" href="#logstash安装" aria-hidden="true">#</a> Logstash安装</h2><ul><li>下载Logstash<code>7.17.3</code>的docker镜像：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> pull logstash:7.17.3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,4),h=a("code",null,"logstash.conf",-1),g=a("code",null,"output",-1),f=a("code",null,"es:9200",-1),_={href:"https://github.com/macrozheng/mall/blob/teach/document/elk/logstash.conf",target:"_blank",rel:"noopener noreferrer"},q=l(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>output <span class="token punctuation">{</span>
  elasticsearch <span class="token punctuation">{</span>
    hosts <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&quot;es:9200&quot;</span>
    index <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&quot;mall-%{type}-%{+YYYY.MM.dd}&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>创建<code>/mydata/logstash</code>目录，并将Logstash的配置文件<code>logstash.conf</code>拷贝到该目录；</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> /mydata/logstash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>使用如下命令启动Logstash服务；</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">--name</span> logstash <span class="token parameter variable">-p</span> <span class="token number">4560</span>:4560 <span class="token parameter variable">-p</span> <span class="token number">4561</span>:4561 <span class="token parameter variable">-p</span> <span class="token number">4562</span>:4562 <span class="token parameter variable">-p</span> <span class="token number">4563</span>:4563 <span class="token punctuation">\\</span>
<span class="token parameter variable">--link</span> elasticsearch:es <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span> /mydata/logstash/logstash.conf:/usr/share/logstash/pipeline/logstash.conf <span class="token punctuation">\\</span>
<span class="token parameter variable">-d</span> logstash:7.17.3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>旧版需要进入容器内部，安装<code>json_lines</code>插件，新版本已自带，无需安装。</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>logstash-plugin <span class="token function">install</span> logstash-codec-json_lines
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="kibana安装" tabindex="-1"><a class="header-anchor" href="#kibana安装" aria-hidden="true">#</a> Kibana安装</h2><ul><li>下载Kibana<code>7.17.3</code>的docker镜像：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> pull kibana:7.17.3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>使用如下命令启动Kibana服务：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">--name</span> kibana <span class="token parameter variable">-p</span> <span class="token number">5601</span>:5601 <span class="token punctuation">\\</span>
<span class="token parameter variable">--link</span> elasticsearch:es <span class="token punctuation">\\</span>
<span class="token parameter variable">-e</span> <span class="token string">&quot;elasticsearch.hosts=http://es:9200&quot;</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">-d</span> kibana:7.17.3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>开启防火墙</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">5601</span>/tcp <span class="token parameter variable">--permanent</span>
firewall-cmd <span class="token parameter variable">--reload</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,14),y={href:"http://192.168.3.101:5601",target:"_blank",rel:"noopener noreferrer"},x=l(`<figure><img src="https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/mall_linux_deploy_new_04.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="mongodb安装" tabindex="-1"><a class="header-anchor" href="#mongodb安装" aria-hidden="true">#</a> MongoDB安装</h2><ul><li>下载MongoDB<code>4</code>的docker镜像：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> pull mongo:4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>使用docker命令启动：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">27017</span>:27017 <span class="token parameter variable">--name</span> mongo <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span> /mydata/mongo/db:/data/db <span class="token punctuation">\\</span>
<span class="token parameter variable">-d</span> mongo:4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="minio安装" tabindex="-1"><a class="header-anchor" href="#minio安装" aria-hidden="true">#</a> MinIO安装</h2><ul><li>下载MinIO的Docker镜像；</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> pull minio/minio
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>下载完成后使用如下命令运行MinIO服务，注意使用<code>--console-address</code>指定MinIO Console的运行端口（否则会随机端口运行）：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">9090</span>:9000 <span class="token parameter variable">-p</span> <span class="token number">9001</span>:9001 <span class="token parameter variable">--name</span> minio <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span> /mydata/minio/data:/data <span class="token punctuation">\\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">MINIO_ROOT_USER</span><span class="token operator">=</span>minioadmin <span class="token punctuation">\\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">MINIO_ROOT_PASSWORD</span><span class="token operator">=</span>minioadmin <span class="token punctuation">\\</span>
<span class="token parameter variable">-d</span> minio/minio server /data --console-address <span class="token string">&quot;:9001&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,11),j=a("code",null,"minioadmin:minioadmin",-1),z={href:"http://192.168.3.101:9001",target:"_blank",rel:"noopener noreferrer"},M=a("figure",null,[a("img",{src:"https://qtp-1324720525.cos.ap-shanghai.myqcloud.com/blog/mall_linux_deploy_new_07.png",alt:"",tabindex:"0",loading:"lazy"}),a("figcaption")],-1);function O(w,S){const n=r("ExternalLinkIcon");return t(),o("div",null,[p,a("ul",null,[a("li",null,[s("访问地址查看是否安装成功："),a("a",d,[s("http://192.168.3.101:15672"),e(n)])])]),u,a("ul",null,[a("li",null,[s("安装中文分词器IKAnalyzer，注意下载与Elasticsearch对应的版本，下载地址："),a("a",m,[s("https://release.infinilabs.com/analysis-ik/stable/"),e(n)])])]),v,a("ul",null,[a("li",null,[s("访问会返回版本信息："),a("a",b,[s("http://192.168.3.101:9200"),e(n)])])]),k,a("ul",null,[a("li",null,[s("修改Logstash的配置文件"),h,s("中"),g,s("节点下的Elasticsearch连接地址为"),f,s("，配置文件地址："),a("a",_,[s("https://github.com/macrozheng/mall/blob/teach/document/elk/logstash.conf"),e(n)])])]),q,a("ul",null,[a("li",null,[s("访问地址进行测试："),a("a",y,[s("http://192.168.3.101:5601"),e(n)])])]),x,a("ul",null,[a("li",null,[s("运行成功后就可访问MinIO Console的管理界面了，输入账号密码"),j,s("即可登录，访问地址："),a("a",z,[s("http://192.168.3.101:9001"),e(n)])])]),M])}const A=i(c,[["render",O],["__file","Basic environment docker installation.html.vue"]]);export{A as default};
